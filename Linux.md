### Linux

#### Linux的进程、线程

Linux系统的进程和线程几乎没有区别。理论上说，Linux没有线程这个概念，只有内核调度实体（Kernal Scheduling Entry，KSE）。Linux的线程本质上是一种轻量级的进程，通过clone系统调用来创建。

##### 进程和线程的概念

进程：具有一定独立功能的程序，系统进行资源分配的调度的一个独立单位；

线程：线程是比进程更小的能独立运行的基本单位，一个线程可以与同属一个进程的其他线程共享进程所拥有的全部资源。

1. 进程采用fork创建，线程采用clone创建
2. 进程fork创建的子进程的逻辑流位置在fork返回的位置，线程clone创建的KSE的逻辑流位置在clone调用传入的方法位置，比如Java的Thread的run方法位置
3. 进程拥有独立的虚拟内存地址空间和内核数据结构(页表，打开文件表等)，当子进程修改了虚拟页之后，会通过写时拷贝创建真正的物理页。线程共享进程的虚拟地址空间和内核数据结构，共享同样的物理页
4. 多个进程通信只能采用进程间通信的方式，比如信号，管道，而不能直接采用简单的共享内存方式，原因是每个进程维护独立的虚拟内存空间，所以每个进程的变量采用的虚拟地址是不同的。多个线程通信就很简单，直接采用共享内存的方式，因为不同线程共享一个虚拟内存地址空间，变量寻址采用同一个虚拟内存
5. 进程上下文切换需要切换页表等重量级资源，线程上下文切换只需要切换寄存器等轻量级数据
6. 进程的用户栈独享栈空间，线程的用户栈共享虚拟内存中的栈空间，没有进程高效
7. 一个应用程序可以有多个进程，执行多个程序代码，多个线程只能执行一个程序代码，共享进程的代码段
8. 进程采用父子结构，线程采用对等结构

#### Linux的常用命令

● 超级用户的家目录：/root/

● 普通用户的家目录：/home/用户名/

##### 命令的基本格式

命令  [选项]  [参数]

选项：调整命令功能

参数：指定命令的操作对象

##### 常见命令

```bash
## list 显示目录下的内容
$ ls

## change directory 切换所在目录
$ cd
## ～表示 家目录
## - 上次所在的目录
## . 当前目录
## .. 上级目录
## /usr/local/src/ 绝对路径
## src/ 相对路径

## 查看当前所在目录
$ pwd 

## make directories 创建目录的命令
$ mkdir xxx
$ mkdir -p xx/xx/xx 递归建立目录

## remove empty directories 删除空目录
$ rmdir xxx

## tree 以树的形式显示目录
$ tree /etc/
```



##### 文件命令

```bash
## change file timestamps 修改文件的时间戳，文件不存在则创建文件
$ touch -a 只修改访问时间
				-c 文件不存在也不新建
				-d 把时间改为指定的时间
				-m 只修改数据修改时间
				
## stat

## cat 合并文件并打印输出到标准输出，查看文件内容
$ cat xxx.xx 

## more 分屏显示内容
## 空格：向下翻页
## b：向上翻页
## 回车：向下滚动一行
## /字符串：搜索指定字符串
## q：退出

## less 分行显示文件内容
## head 显示文件开头的内容
## tail 显示文件结尾的内容

## In
```


















#### 烫嘴面筋

#### vivo

1. 并发
2. 项目里的点：Springboot和SpringMVC区别；Drools
3. java基础题：Hashmap
4. 计算机网络和操作系统
5. Git：版本回退/分支/合并



#### TPLink

1. 为什么要投tplink
2. 进程；死锁
3. TCP和UDP；TCP如何实现可靠传输；浏览器输入url客户端网页显示的过程；TCP三次握手
4. 二分查找，手写
5. 怎么实现多线程；**线程池怎么实现的，有哪几种**
6. socket网络编程
7. static关键字；final的作用；
8. 介绍完全二叉树：按照层次顺序编号，节点i的左节点2i，右节点2i+1
9. 怎么判断链表有环
10. 二叉搜索树的应用场景：哈夫曼编码
11. **关于微服务化的基本理解**：微服务是一种架构风格，意思就是一个大型的复杂应用由一个或多个微服务组成。系统中各个微服务可以被独立部署，各个微服务之间是松耦合的，每个微服务仅关注自身的小任务。每个微服务运行在自己的进程中，开发和发布都没有依赖。通过一些轻量级的交互机制来通信，如http，可以独立扩展伸缩。
12. **spring的bean加载机制**；spring在构造上下文的时候就把单例bean都创建完成了，比如说classpathxmlapplicationcontext加载了xml配置文件，将其中的bean配置信息解析，放在一个beandefinitionmap中，在一些前序步骤都完成了之后，比如说某个bean的依赖已经加载完成了，这个bean的单例被创建然后放在singletonobjects中，这个singletonobjects是一个concurrenthashmap。然后上下文调用getbean方法的时候就能获取某个bean了。
13. cookie和session的生命周期；cookie如果设定了过期时间，就按照时间来；否则关闭浏览器cookie就会失效；session也有设定有效时间，超过有效时间来就会失效；session也可以在服务端主动销毁；
14. 如何逆序打印链表/ 如何反转链表：先问有没有空间复杂度的限制？没有用栈，有的话递归
15. 数据库事务的概念；事务就是逻辑上一组操作，这组操作要么要都成功，要么全都失败，他们是一个整体。 **分布式事务是啥**：用了微服务分布式之后会产生的分布式数据库数据一致问题。
16. **单例模式**：
17. **管道：有名 / 无名管道？**：管道是线程间通信的一种方式，通信的媒介是内存。
18. 快排，快排为什么不稳定
19. 如何连接数据库：springboot里连接数据库，配置数据库连接池hikaricp，在property文件中配置一下。
20. SQL插入：INSERT INTO table_name (列1, 列2,...) VALUES (值1, 值2,....)
21. java多态的体现：3个条件
22. 如何确定无符号数的二进制中1的个数。。。。（n&n-1）
23. 100盏灯：什么数的因数的个数是奇数个？**完全平方数**
24. 生成1000个1000以内的随机数，去重排序
25. 找出一个字符串所有连续子串中字典排序最大的子串
26. 笔试，最长递增子串的思路，动态规划；笔试做的怎么样，有哪道题有问题：
27. 赛马：选前三快，前五快
28. 滑动窗口算法题
29. 反问：业务使用的哪种语言；如果入职了会有人带吗



#### 招商银行

电话面：略

视频面：

1. 手撕：两个升序双向链表合并成一个降序双向链表：头插
2. 项目介绍 springboot aop原理 拦截器原理 jpa spring官网看过吗 撕一个代码：阻塞队列
3. **面向对象**的三个特性
4. 然后设计出一个**银行存款的对象间关系**，并说明为什么这么设计（基金账户，理财账户等等）
5. GC介绍一下（吧啦吧啦，理论很完美，然后问我有没有动手去调优过这部分，又被喷了，只会理论）
6. 为什么java中有GBK跟UTF8这样不同的编码？数据库里的编码到java中再到应用程序这整个流程里，如何去实现编解码
7. 线程间资源如何共享，如何并发
8. AQS的阻塞队列怎么设计的，画图给他
9. Array里的阻塞队列用过哪些，什么时候用的（在缓存设计里用过）
10. 写个题，很简单，最大的K个数，问时间复杂度，为什么用优先级队列写？优先级队列是什么（堆）
11. 给个游戏场景，如何设计各种对象，策略模式，如何切换策略，画出类图
12. 还有些忘记了，问他感受，理论很好，项目很多，简历好看，但是给出的设计的场景的东西考虑得太浅了，在系统设计这块要加强



1.  进程和线程

2. 类加载双亲委托模型：启动类加载器

3.  windows运行java程序（jar包之类的，没有。。）

4.  微服务、MVC（没用过啊。。。）

5.  Spring你觉得最大的优势在哪（还好没细问，学习视频我也就看了前面一点）

6.  java在操作系统如何运行

7. 讲讲TCP和HTTP

8.  get和post

9. 数据库引擎有哪一些

10. 主键索引、复合索引、最左侧原则的底层原理

11. B+树

12. 手撕SQL： 给学生表、成绩表。。。
     问题：查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩

    > Select b.id, b.studentname,  a from student as b join (select studentid, AVG(SCORE) as a from student_score group by studentid having a > 60 ) c on b.id = c.

13. mybatis#和\$的区别 : `${column}` 会被直接替换，拼在sql语句上，不安全；常用于代替表名和字段名；

    而 `#{value}` 是一种预编译的方式，会使用 `?` 预处理；常用于处理参数。

14. mybatis executor

15. JVM参数调优，gc方面：知道几个参数，比如xms，xmx，metaspacesize，maxmetaspacesize，还有设置最大年龄的maxtenuringthreshold。但是没有在自己的项目里实践过

16. gc满了怎么回收：垃圾收集器现在大多数采用分代收集算法，主要是将堆氛围老年代和新生代，新生代中用的基本是复制算法，分成3个区域，eden和suvivor；老年代通常采用标记整理算法

17. 多态业务上的应用：组合模式，比如说要医院的三级转诊模型中实现集体通知，可以抽象出一个组件，它拥有一个抽象的通知方法，县级医院或者卫生院就属于简单组件，它的通知方法中负责对接收到的消息作出反应，他们的上级医院作为复合组件，在自身对通知作出反应之后，还需要通知其下的所有子组件即附属医院。

18. 抽象类和接口的区别

19. 页面提交数据到数据库的过程

20. 分页逻辑： 继承PagingAndSortingRepository，使用pageable和Sort进行分页和排序

21. 配置的注解

22. 自动装配过程：Autowired默认使用byType来自动装配，如果存在类型的多个实例就尝试使用byName匹配，如果通过byName也确定不了，可以通过Primary和Priority注解来确定。

    @SpringBootApplication注解包含了开启自动装配功能，包扫描，SpringFactoriesLoader来加载META-INF/spring.factoires文件里所有配置的EnableAutoConfgruation，它会经过exclude和filter等操作，最终确定要装配的类

23. 接口的方法拆分的设计

24. 手撕：最长路径



#### 字节跳动

1. tcp三次握手过程；TCP连接管理，报文段格式 	
2. mysql中索引是用什么实现的
3. 给定一棵树，输出它的左视图或右视图
4. git
5. java类加载机制 	
6. java8特性 	
7. 一个java程序开始运行的过程 	
8. 进程，线程，协程 	
9. hashmap为什么线程不安全；hashtable为什么线程安全 	
10. 聚簇索引 	
11. https协议 	
12. 手写数据库查询 	
13. 项目中的用户注册和登录的流程是什么？ 	
14. cookie和session 	
15. cookie的参数有哪些？ 	
16. 服务器的域名是geogle，我可以修改cookie的domain为baidu吗？（本人不清楚） 	
17. cookie被仿造怎么办？
18. MD5加密可逆吗？会被破解吗?如何破解？ 	



1. 面向对象有哪些特征？解释一下  	
2. ​			SSO了解吗？ 	
3. ​			负载均衡了解吗？ 	
4. ​			数据库的关系有哪些？ 	
5. ​			一对多怎么实现？多对多怎么实现？ 	
6. ​			MySQL数据库有哪些类型？这些类型有什么区别？ 	
7. ​			了解哪些设计模式？手写一个工厂方法模式 	
8. ​			手撕sql 	
9. ​			反转链表 	 

 

3. ​					三次握手 ；滑动窗口是干什么的？；拥塞窗口是干什么的？ 			
6. ​					进程和线程有什么区别？ 			
7. ​					进程通信 			
8. ​					hashtable的理想的查找效率是多少？ 			
9. ​					哈希碰撞怎么解决？ 			
10. ​					HashMap在JDK1.8中有哪些改进？ 			
12. ​					手撕代码：给定一个字符串数组 dict 和 一个字符串s，判断s能否由dict中的单词组成 		



##### 商业变现

##### 基础

1. java面向对象的特性，多态的三个必要条件

2. **静态绑定和动态代理**

3. **堆和栈的区别**

4. **LRU的实现**

5. 封装有什么用；多态是怎么实现的？说了继承，接口和泛型

6. 接口和抽象类有什么区别？

7. 对集合的了解

8. Arraylist和LinkedList的区别 **Arraylist的初始大小**

9. Hashmap底层 扩容

10. ==跟equals的区别

11. 

    

##### 计算机网络

1. ~~登录状态如何保持？session、cookie、token怎么用，有什么区别？~~
2. ~~tcp/ip的四层模型、TCP 三次握手 四次挥手，挥手的时候需要等2msl~~
3. 描述一下向socket传值的流程？
   + 服务器根据地址类型（ipv4、ipv6）、socket类型、协议创建socket
   + 服务器为socket绑定对应的IP地址和端口号
   + 服务器监听端口号请求，接收用户发来的连接请求，此时服务器没有打开socket
   + 用户创建socket
   +  用户打开socket，并通过IP地址+端口号试图connect服务器的socket
   + 服务器接收到了用户发来的socket连接请求，被动打开socket，开始接收客户端请求，直到用户返回连接信息。这时候服务器的socket进入堵塞状态，所谓堵塞，即accept();方法一直接收到客户端返回连接信息后才返回，然后开始接收下一个用户端请求
   + 客户端连接成功，开始向服务器输入状态信息
   + 服务器accept();方法返回，连接成功
   + 客户端写入信息
   + 服务器读取信息
   + 客户端关闭
   + 服务端关闭
5. 输入URL到页面显示之后的整个过程
6. ~~*网络七层模型*~~
7. ~~http和https的区别；http是否无状态？如何有状态？http2.0特性？介绍一下http2.0。~~
8. ~~TCP和UDP的区别，视频面试用的是TCP还是UDP~~
9. 输入域名，长时间没有得到回应（原因排查）：考虑是不是DNS解析问题，网不好，ping一下试试看
10. http状态码



##### 并发

1. 锁
2. 进程通信方式、 线程通信方式
3. 如何保证线程安全，怎么看日志
4. 进程和线程的区别
5. 进程调度算法都有哪些
6. 实现单例模式（懒汉），考虑线程安全
7. one loop pre thread，timer fd定时器实现，redis 底层
8. 线程安全什么意思？如何线程安全？
9. 锁的种类？公平锁分公平锁？redis分布式锁是否公平锁？
10. 介绍一下线程池
11. 线程池的submit操作如何实现（也可能是一面的问题）
12. 线程池的饱和策略
13. 有界无界队列
14. 线程的创建方法



##### 其他

1. 编译型代码和解释型代码的区别
2. 用过消息队列吗? 是什么作用?
3. 在读什么书。
4. Jmeter压测的时候为什么会丢包
5. RocketMQ的实现
7. RPC有了解吗？远程过程调用：也就是说两台服务器A，B，一个应用部署在A服务器上，想要调用B服务器上应用提供的函数/方法，由于不在一个内存空间，不能直接调用，需要通过网络来表达调用的语义和传达调用的数据。
8. spring boot和spring的优劣势
9. RocketMQ有哪些组件



##### 数据库

1. B+树的结构：B+树每个节点是一个page，所有的key存储在叶子结点，内部节点都是索引。

2. B+树如何select range：先通过search找到range的起始叶节点，包括范围的起始值，沿着叶的链接读下一个叶节点，直到遇到范围终止值。

3. 叶子节点双向链表的作用：方便排序，支持前后遍历

4. SQL `LIMIT M, N` M / N 分别是什么：M是输出记录的初始位置，N是输出的个数；

   LIMIT 10 OFFSET 2：初始位置偏移2，输出10个。

5. MySQL的四个事务隔离级别, 怎么实现的

6. 两个人A->B跨系统转账的流程如何保证原子性?

7. left_join和right_join的区别：**Inner join**产生的结果集中，是A和B的交集。**Full outer join** 产生A和B的并集。但是需要注意的是，对于没有匹配的记录，则会以null做为值。**Left outer join** 产生表A的完全集（A是from后面的那个），而B表中匹配的则有值，没有匹配的则以null值取代。

8. 索引类型：聚集索引、非聚集索引、联合索引

9. 数据库的索引，唯一索引和主键索引：主键索引一定是唯一索引，但是唯一索引不一定是主键索引。只能有1个主键，但是可以有多个唯一性的索引，唯一索引允许为null

10. mybatis的缓存

   

##### Linux

1. linux 命令: 找出文件里的match的一行 (cat | grep 感觉不太好)

    grep 命令用于查找文件里符合条件的字符串

2.  linux如何创建文件：vi touch echo "adfs" > 3.txt

   mkdir 创建目录

3. 找出指定端口被哪个进程占用 list open file lsof -i:8080

   Netstat -tunlp | grep 8080 显示tcp，udp的端口和进程等的相关信息

4. loop epoll linux kernel（盲区） ipc 无锁编程 环形无锁队列 CAS无锁队列 地址重用（忘光了，unp有讲）

##### Redis

1. redis都有哪些了解：redis是一个非关系型数据库，在内存中存储，所以读写速递非常快。常用于缓存方便，也可以用来做分布式锁。支持事务，持久化。

2. 为什么要用缓存：高性能：因为是操作内存，所以直接从缓存中读取比从硬盘上读取要快很多；高并发：直接操作缓存能够承受的请求远大于直接访问数据库。

3. redis支持哪些数据类型：String，List，Set，Sorted Set，Map

4. redis是单线程还是多线程的，为什么这样设计？redis有没有并发问题：Redis的单线程模型指的是网络请求模块使用了一个线程，即一个线程利用IO多路复用处理所有网络请求，其他模块仍用了多个线程。因为redis的性能基于内存进行操作，cpu并不是它效率的限制因素，使用单线程还减少了切换线程带来的消耗。而在网络请求模块，使用epoll作为IO多路复用的实现，再加上事件处理模型。

5. redis的并发竞争key的问题：Redis并发问题：setnx

6. redis和其他数据库的区别

7. redis的数据结构。zset是什么？如何实现的？压缩列表和跳跃表，元素数量小于128个并且元素长度小于64字节使用压缩列表，其他情况使用跳跃表。

8. redis为什么快？内存+单线程。

9. redis的并发竞争key的问题：如何设计分布式锁？利用setnx，expire设置过期时间可以实现分布式锁，但是分两步造作不具备原子性，可以用lua脚本来保证原子性；新版的 set 命令增加了 EX 、 PX 、 NX|XX 参数选项，这样检查key是否存在，设置key过期时间可以在一个原子性操作中完成。

   释放锁的时候，需要先检查是不是自己持有锁，才能用del来删除，所以需要lua脚本来保证原子性。

   redis集群：redlock和redission来实现。

10. 利用redis的可重入锁如何设计？利用ThreadLocal实现，获取锁后将Redis中的value保存在ThreadLocal中，同一线程再次尝试获取锁的时候就先将 ThreadLocal 中的 值 与 Redis 的 value 比较，如果相同则表示这把锁所以该线程，即实现可重入锁。

11. 如果redis宕机了，或者链接不上，怎么办？配置主从复制，哨兵模式，一旦主机宕机，让下一个从机当作主机。

12. 如果redis缓存在高峰期到期失效，在这个时刻请求会向雪崩一样，如何处理？：

##### 手撕

1. quicksort：给一组数字，根据快排，第1次，第2次....的排序结果说一下

2. 金额找零 $M, N种不同面值的硬币, 找零怎么实现？

3. 如何优化子问题? （记忆化 -> dp）

4. 给定一个升序数组arr， 一个数字a，找出比a小的最大的那个数字。（二分）

5. 成绩表 SC(S#,C#,score) --S# 学生编号,C# 课程编号,score 分数，找出语文成绩及格，平均成绩不及格的学生编号。

   取出表中语文及格而数学不及格的同学的学号

   **用了or判断 踩到了坑 就是没去判断该同学是不是同时有两种成绩**

   ```sql
   select stu from table where c
   ```

   

6. 输出给定数字下一个比它大的数字，比如输入：1234， 输出 1243。

7. 删除驼峰式字符串

8. 目前有1分，3分，5分面值的硬币，要组成一个10分面值最少需要几个硬币

9. 一个文件，有两列数据，第一列是时间戳，第二列是IP地址，统计出有多少个不同的IP

10. 实现两个线程交叉打印你好

11. 算法题leetcode 3 滑窗即可

12. 算法题 leetcode 56 排序即可

13. 算法题 岛屿类似的题目 dfs/bfs都行

14. 1G文件，每一行一个词，每个词大小小于16B，1M内存限制，如何找到频率前K个词？此处1G文件远远大于1M内存，分治法，先hash映射把大文件分成很多个小文件，具体操作如下：读文件中，对于每个词x，取hash(x)%5000，然后按照该值存到5000个小文件(记为f0,f1,...,f4999)中，这样每个文件大概是200k左右（每个相同的词一定被映射到了同一文件中）；

    对于每个文件fi，都用hash_map做词和出现频率的统计，取出频率大的前100个词（怎么取？topK问题，建立一个100个节点的最小堆），把这100个词和出现频率再单独存入一个文件；

    我们又得到了5000个文件，**归并文件取出top100（Top K 问题，比较最大的前100个频数），小顶堆**

15. 验证对称二叉树。Leetcode 101。

16. 一个牌堆，先从顶部取一张牌放在桌子上，再从顶部取一个放在牌堆底部，循环这个过程，得到桌子上的一个牌序列，问根据这个牌序列求牌堆初始顺序。

    利用堆栈队列。如果手上牌大于1，将底放到顶，然后将桌上 的顶放到手上顶部，循环。

17. 回文串判断 leetcode125

18. 给一个链表，奇数位递减，偶数位递增，不使用额外空间，进行排序实现全部递增：

    先拆分奇偶，形成两个链表，然后奇数链表倒序，merge两个链表。

    ```java
    import java.util.*;
    public class Main{
        public static void main(String[] args){
            Scanner sc = new Scanner(System.in);
            String[] str = sc.nextLine().split(",");
            Node head = transfer(str);
            Node[] lists = splitList(head);
            Node list2 = reverseList(lists[1]);
            Node ans = merge(lists[0],list2);
            while(ans != null){
                System.out.print(ans.val+",");
                ans = ans.next;  
            }
            
        }
        private static Node merge(Node l1, Node l2){
            Node dummy = new Node(-1);
            Node cur = dummy;
            while(l1 != null && l2 != null){
                cur.next = l1;
                l1 = l1.next;
                cur = cur.next;
                cur.next = l2;
                l2 = l2.next;
                cur = cur.next;
            }
            if(l1 != null) cur.next = l1;
            return dummy.next;
        }
        private static Node reverseList(Node head){
            Node pre = null;
            Node next = null;
            while(head != null){
                next = head.next;
                head.next = pre;
                pre = head;
                head = next;
            }
            return pre;
        }
        private static Node[] splitList(Node head){
            Node dummy1 = new Node(-1);
            Node dummy2 = new Node(-1);
            Node l1 = dummy1;
            Node l2 = dummy2;
            int index = 0;
            while(head != null){
                if(index%2 == 0){
                    l1.next = head;
                    l1 = l1.next;
                } else {
                    l2.next = head;
                    l2 = l2.next;
                }
                head = head.next;
                index++;
            }
            l1.next = null;
            l2.next = null;
            return new Node[]{dummy1.next, dummy2.next};
            
        }
        private static Node transfer(String[] str){
            Node dummy = new Node(-1);
            Node cur = dummy;
            for(String s : str){
                Node tmp = new Node(Integer.valueOf(s));
                cur.next = tmp;
                cur = cur.next;
            }
            return dummy.next;
        }
    }
    class Node{
        public int val;
        public Node next;
        public Node(int value){
            this.val = value;
        }
        public Node(){}
    }
    ```

    

19. 给定一个表，**获取所有课程得分均大于80分的学生的平均得分**

    ```sql
    select distinct student.name from student 
    where student.name not in (
    	select distinct student.name from student where student.score < 80
    )
    
    select student.name from student group by student.name 
    having MIN(student.socre) >= 80
    ```

    



#### 京东

##### Java

1. 说说JVM的理解 （JVM虚拟机重点章节基本都说了一遍）

2. 新生代的对象什么时候会进入老年代（分3种情况，有一种我想不起来了）
3. java gc 
4. 如何使用代码来进行垃圾回收
5. 如果未及时gc回怎么样，用代码模拟一下out of mermory
6. java常见数据类型
7. 集合有哪些？哪些是线程安全的?
8. lambda表达式和Strem流说了平时哪里用到了？
9. java异常平时用到了哪些？
10. 简单问下JDK1.7 和 JDK 1.8 ConcurrentHashMap 的底层数据结构相关的吧
11. 介绍HashMap /什么时候转为红黑树 /如何使HashMap线程安全 /介绍ConcurrentHashMap 
12. 看过什么源码？我说hashmap等集合，还有spring。然后他也没问spring相关 
13. JVM的回收机制 



##### Java多线程 

1. 有哪些线程池？

2. 说说对这些线程池的理解吧？

3. 你平时都是怎么用线程池？

4. Thread中 wait（）和sleep（）哪个是会有释放锁的操作？ （不懂，思考一会给出结论，不对，但是面试官很巧妙耐心的引导我推导出答案，赞！）

5. 你是如何使用线程池的，线程池涉及哪些参数，这些参数的作用和线程池相关原理。

	6. 看过AQS源码么，说说你的理解吧。（回答维护着一个队列和valitle修饰的status，有点忘了。面试官建议多去看看源码中的各种方法的实现）

 7. 让你设计，你会如何设计一个Reentrantlock。

 8. 项目中的线程不安全问题

 9. 线程安全的list ，Map

 10. 创建线程的几种方式以及区别 

 11. 乐观锁悲观锁 / 悲观锁的应用场景 

 12. 线程同步 

     

 13. 

​	

##### Mysql  

1. 为什么会有索引，说说主键索引和非主键索引的几个特点吧。

2. 有哪些隔离级别；然后最后一种隔离级别会出现什么问题，Mysql是怎么解决这个问题的。

3. 唯一索引和普通索引的区别，哪个查询更快一些，为什么？（虽然说对了，当时脑子太乱，并且疲惫了，没说出原因，后面得好好补补）。
4. 说一下熟悉的sql语句 
5. mysql数据库说一个sql，就最常见的，意思看平时是不是写过sql，不是只背书那种
6. 加索引需要注意什么 
7. 最左前缀优先 
8. 说一下你对mybatis的理解
9. 

​	

##### 你常用的设计模式

1. 常用 ：责任链 + 工厂模式

2. 假如你的责任链不断膨胀该怎么处理，有什么好解决方案么？比如现在你的handle 从10个膨胀到100个？

​	（思考了一会给了简单的答案（拆分为接口方法），但是面试官不满意，然后指导了一下（需要做业务拆分，提到用ForkJoin分治的思想）

​	

##### 组件框架 

hadoop 生态 + spark生态 + 流计算引擎flink + ES + 消息中间件（Kafka、阿里开源的MQ、滴滴开源的DDMQ等等）

1. spring注解有哪些
2. redis常用命令 
3. redis常用数据类型？项目中如何操作redis的?



##### **设计题**

**来我们设计一个秒杀场景吧。单节点TPS可以达到30w/s哪种？**

如何实现一个生产者消费者模型，使用什么数据结构？ 



##### 算法

1. 介绍一下快排（口述） 
2. 如何判断链表有环（口述） 





